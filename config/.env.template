# Home Assistant to InfluxDB Exporter Configuration
# Copy this file to .env in the project root and fill in your values

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# InfluxDB Connection (REQUIRED)
INFLUX_URL=http://localhost:8086
INFLUX_TOKEN=your_influxdb_token_here
INFLUX_ORG=your_organization_name

# Home Assistant Database Path (REQUIRED)
HA_DATABASE_PATH=./home-assistant_v2.db

# =============================================================================
# INFLUXDB BUCKETS
# =============================================================================

# Bucket for recent data (90 day retention)
INFLUX_BUCKET_RECENT=homeassistant-recent

# Bucket for historical data (unlimited retention)
INFLUX_BUCKET_HISTORICAL=homeassistant-historical

# =============================================================================
# PROCESSING SETTINGS
# =============================================================================

# Number of records to process in each batch (default: 1000)
BATCH_SIZE=1000

# Progress reporting interval in batches (default: 10)
PROGRESS_INTERVAL=10

# Enable resume functionality (default: true)
RESUME_ENABLED=true

# Checkpoint file for resume functionality
CHECKPOINT_FILE=./export_checkpoint.json

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# Optional log file path (leave empty for console only)
# LOG_FILE=./export.log

# =============================================================================
# ENTITY FILTERING
# =============================================================================

# Units of measurement to include (comma-separated)
INCLUDE_UNITS=kWh,W,°C,°F,%,kB/s,GB,MB,A,V,hPa,bar,mbar,lux,ppm,dB,rpm

# Sources to include regardless of unit (comma-separated)
INCLUDE_SOURCES=tibber

# Entity ID patterns to exclude (comma-separated, use % as wildcard)
EXCLUDE_PATTERNS=%availability%,%status%,%signal%,%connected%

# =============================================================================
# EXAMPLES FOR DIFFERENT SETUPS
# =============================================================================

# Example for remote InfluxDB Cloud:
# INFLUX_URL=https://your-region.1.aws.cloud2.influxdata.com
# INFLUX_TOKEN=your_cloud_token_here
# INFLUX_ORG=your_email@example.com

# Example for custom database location:
# HA_DATABASE_PATH=/path/to/your/home-assistant_v2.db

# Example for high-performance processing:
# BATCH_SIZE=5000
# PROGRESS_INTERVAL=5

# Example for debugging:
# LOG_LEVEL=DEBUG
# LOG_FILE=./debug.log

# Example for large datasets with timeout issues:
# INFLUX_TIMEOUT=600